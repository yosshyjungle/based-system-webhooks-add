
# 📘 要件定義書：高齢者向け恐竜育成ウォーキングゲーム  
**仮タイトル：**「DinoWalk（ディノウォーク）」

---

## 🎯 1. 目的
高齢者が外出して歩くことを促し、健康の維持・増進を図る。ゲーム内で草食恐竜を育てることを通じて、歩行・自然観察・バトル・コレクションなど複数の楽しみを提供する。

---

## 👤 2. ターゲットユーザー
- 主対象：60歳以上の高齢者（スマホ初心者含む）
- 副対象：中高年層、家族層（親子で一緒に遊ぶ）

---

## 🧩 3. 機能要件

### 🐾 3.1 歩行・育成機能
- 歩数カウント：端末の歩数APIと連携（Google Fit / Apple HealthKit）
- 歩数 = 経験値 → 恐竜のレベルアップ
- レベルに応じて見た目や能力が進化

### 🍃 3.2 空腹・食事システム
- 恐竜は数時間ごとに空腹になる（内部タイマー or 通知）
- 食事は「草花」で行う

### 📸 3.3 草花認識機能
- カメラで草花を撮影
- 画像をAI解析（Google Cloud Vision APIやオープンモデル活用）
- 草花の名前・種類・可食性を表示
- 図鑑に登録、新種の場合は報酬
- 可食草は恐竜に与えて空腹解消

### 🦖 3.4 敵恐竜との遭遇イベント
- 一定確率で「肉食恐竜」が出現
- プレイヤーは「戦う」or「逃げる」を選択
- 戦闘は簡単なターン制バトル or オートバトル
- チームバトル機能（近くのユーザーと協力）※将来拡張

### 🛒 3.5 ストア機能
- 仮想通貨でアイテム購入（エサ、装飾品、バトルアイテムなど）
- 無課金でも入手可能、有料課金アイテムも導入予定
- ストア分類：恐竜用アイテム / ユーザー装備 / 特殊草花 など

### 📚 3.6 図鑑・履歴
- 撮影・認識された草花を図鑑に登録
- 新種・レア草花は色やアイコンで特別表示
- 恐竜の成長履歴、レベル、日別歩数なども履歴として表示

---

## 🖥️ 4. 技術要件

### 4.1 フロントエンド（React Native）
| 要素              | 使用技術例                               |
|------------------|------------------------------------------|
| UI               | React Native + TypeScript                |
| 状態管理         | Zustand または Redux Toolkit             |
| スマホ機能        | Expo（センサー、カメラ、通知）など       |
| カメラ機能        | `expo-camera`                            |
| 3D恐竜表示       | React Three Fiber（Three.js）            |
| アニメーション    | Lottie、react-native-reanimated          |

### 4.2 バックエンド
| 要素         | 使用技術例                                  |
|--------------|---------------------------------------------|
| DB           | Firebase Firestore / Supabase               |
| ユーザー管理 | Firebase Auth / Clerk                       |
| ストレージ   | Firebase Storage（草花画像の保存）         |
| 通知         | Expo Push Notification                     |
| AI認識       | Google Cloud Vision API / Hugging Face API |

---

## 🧱 5. データ設計（簡略）

### ユーザー
- `userId`
- `nickname`
- `age`
- `totalSteps`
- `coins`
- `dinoId`
- `inventory`

### 恐竜
- `dinoId`
- `name`
- `level`
- `xp`
- `hunger`
- `appearanceState`

### 草花図鑑
- `plantId`
- `plantName`
- `imageUrl`
- `isEdible`
- `isNewSpecies`
- `dateDiscovered`

### 敵恐竜遭遇ログ
- `eventId`
- `timestamp`
- `enemyType`
- `result`

---

## 🎨 6. UI構成（主要画面）

| 画面名       | 内容                                                  |
|--------------|-------------------------------------------------------|
| ホーム       | 恐竜表示・歩数・空腹度・メニュー                     |
| 散歩画面     | 恐竜が一緒に歩くアニメーション、肉食恐竜遭遇など     |
| カメラ画面   | 草花撮影・認識・恐竜に与える                         |
| 図鑑画面     | 登録草花一覧・新種ハイライト                         |
| ストア画面   | アイテム購入、コイン数表示                           |
| バトル画面   | 肉食恐竜との戦い（シンプルUI）                       |
| 成長履歴     | 恐竜のレベルアップ、日別歩数など                    |
| 設定 / プロフ | 年齢・名前・通知設定など                             |

---

## 📈 7. KPI（評価指標）
- 月間アクティブユーザー数（MAU）
- 平均歩数／ユーザー
- 恐竜レベルアップ回数
- 草花撮影回数／日
- バトル勝率

---

## 🛠 8. 開発スケジュール（例）

| フェーズ | 内容                                 | 期間       |
|----------|--------------------------------------|------------|
| 1        | 基本UI、歩数記録、恐竜表示           | 2週間      |
| 2        | 空腹・食事機能、通知処理             | 2週間      |
| 3        | カメラ・草花認識・図鑑機能           | 3週間      |
| 4        | 敵遭遇・バトルシステム               | 3週間      |
| 5        | ストア・プロフィール・設定機能       | 2週間      |
| 6        | テスト・UI改善・リリース準備         | 2週間      |

---

## 🔮 9. 今後の拡張アイデア
- ARモードで恐竜が現実に出現
- 季節ごとの植物イベント
- 多頭飼い・恐竜同士の交配
- 地域イベントと連携（例：市の健康促進事業と連携）

---

## ✅ 10. 次のステップ
1. ワイヤーフレーム作成（Figma等）
2. MVP用のReact Nativeベースプロトタイプ構築
3. AI草花認識のAPI評価（Vision APIなど）
4. テストユーザー（高齢者）による簡易テスト実施
